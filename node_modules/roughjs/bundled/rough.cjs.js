"use strict";var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};function e(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return(r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function n(t,e,r){if(r||2===arguments.length)for(var n,a=0,s=e.length;a<s;a++)!n&&a in e||(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return t.concat(n||Array.prototype.slice.call(e))}function a(t,e,r){if(t&&t.length){var n=e[0],a=e[1],s=Math.PI/180*r,o=Math.cos(s),i=Math.sin(s);t.forEach((function(t){var e=t[0],r=t[1];t[0]=(e-n)*o-(r-a)*i+n,t[1]=(e-n)*i+(r-a)*o+a}))}}function s(t){var e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}function o(t,e){var r=e.hachureAngle+90,s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);var o=[0,0];if(r)for(var i=0,h=t;i<h.length;i++){a(h[i],o,r)}var u=function(t,e){for(var r=[],a=0,s=t;a<s.length;a++){(p=n([],s[a],!0))[0].join(",")!==p[p.length-1].join(",")&&p.push([p[0][0],p[0][1]]),p.length>2&&r.push(p)}var o=[];e=Math.max(e,.1);for(var i=[],h=0,u=r;h<u.length;h++)for(var p=u[h],c=0;c<p.length-1;c++){var l=p[c],f=p[c+1];if(l[1]!==f[1]){var d=Math.min(l[1],f[1]);i.push({ymin:d,ymax:Math.max(l[1],f[1]),x:d===l[1]?l[0]:f[0],islope:(f[0]-l[0])/(f[1]-l[1])})}}if(i.sort((function(t,e){return t.ymin<e.ymin?-1:t.ymin>e.ymin?1:t.x<e.x?-1:t.x>e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax)})),!i.length)return o;var v=[],g=i[0].ymin;for(;v.length||i.length;){if(i.length){var y=-1;for(c=0;c<i.length&&!(i[c].ymin>g);c++)y=c;i.splice(0,y+1).forEach((function(t){v.push({s:g,edge:t})}))}if((v=v.filter((function(t){return!(t.edge.ymax<=g)}))).sort((function(t,e){return t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x)})),v.length>1)for(c=0;c<v.length;c+=2){var M=c+1;if(M>=v.length)break;var k=v[c].edge,b=v[M].edge;o.push([[Math.round(k.x),g],[Math.round(b.x),g]])}g+=e,v.forEach((function(t){t.edge.x=t.edge.x+e*t.edge.islope}))}return o}(t,s);if(r){for(var p=0,c=t;p<c.length;p++){a(c[p],o,-r)}!function(t,e,r){var n=[];t.forEach((function(t){return n.push.apply(n,t)})),a(n,e,r)}(u,o,-r)}return u}var i=function(){function t(t){this.helper=t}return t.prototype.fillPolygons=function(t,e){return this._fillPolygons(t,e)},t.prototype._fillPolygons=function(t,e){var r=o(t,e);return{type:"fillSketch",ops:this.renderLines(r,e)}},t.prototype.renderLines=function(t,e){for(var r=[],n=0,a=t;n<a.length;n++){var s=a[n];r.push.apply(r,this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],e))}return r},t}(),h=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.fillPolygons=function(t,e){var r=e.hachureGap;r<0&&(r=4*e.strokeWidth),r=Math.max(r,.1);for(var a=o(t,Object.assign({},e,{hachureGap:r})),i=Math.PI/180*e.hachureAngle,h=[],u=.5*r*Math.cos(i),p=.5*r*Math.sin(i),c=0,l=a;c<l.length;c++){var f=l[c],d=f[0],v=f[1];s([d,v])&&h.push([[d[0]-u,d[1]+p],n([],v,!0)],[[d[0]+u,d[1]-p],n([],v,!0)])}return{type:"fillSketch",ops:this.renderLines(h,e)}},r}(i),u=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.fillPolygons=function(t,e){var r=this._fillPolygons(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),a=this._fillPolygons(t,n);return r.ops=r.ops.concat(a.ops),r},r}(i),p=function(){function t(t){this.helper=t}return t.prototype.fillPolygons=function(t,e){var r=o(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(r,e)},t.prototype.dotsOnLines=function(t,e){var r=[],n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.max(n,.1);var a=e.fillWeight;a<0&&(a=e.strokeWidth/2);for(var o=n/4,i=0,h=t;i<h.length;i++)for(var u=h[i],p=s(u),c=p/n,l=Math.ceil(c)-1,f=p-l*n,d=(u[0][0]+u[1][0])/2-n/4,v=Math.min(u[0][1],u[1][1]),g=0;g<l;g++){var y=v+f+g*n,M=d-o+2*Math.random()*o,k=y-o+2*Math.random()*o,b=this.helper.ellipse(M,k,a,a,e);r.push.apply(r,b.ops)}return{type:"fillSketch",ops:r}},t}(),c=function(){function t(t){this.helper=t}return t.prototype.fillPolygons=function(t,e){var r=o(t,e);return{type:"fillSketch",ops:this.dashedLine(r,e)}},t.prototype.dashedLine=function(t,e){var r=this,n=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,a=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,o=[];return t.forEach((function(t){var i=s(t),h=Math.floor(i/(n+a)),u=(i+a-h*(n+a))/2,p=t[0],c=t[1];p[0]>c[0]&&(p=t[1],c=t[0]);for(var l=Math.atan((c[1]-p[1])/(c[0]-p[0])),f=0;f<h;f++){var d=f*(n+a),v=d+n,g=[p[0]+d*Math.cos(l)+u*Math.cos(l),p[1]+d*Math.sin(l)+u*Math.sin(l)],y=[p[0]+v*Math.cos(l)+u*Math.cos(l),p[1]+v*Math.sin(l)+u*Math.sin(l)];o.push.apply(o,r.helper.doubleLineOps(g[0],g[1],y[0],y[1],e))}})),o},t}(),l=function(){function t(t){this.helper=t}return t.prototype.fillPolygons=function(t,e){var r=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,n=e.zigzagOffset<0?r:e.zigzagOffset,a=o(t,e=Object.assign({},e,{hachureGap:r+n}));return{type:"fillSketch",ops:this.zigzagLines(a,n,e)}},t.prototype.zigzagLines=function(t,e,r){var a=this,o=[];return t.forEach((function(t){var i=s(t),h=Math.round(i/(2*e)),u=t[0],p=t[1];u[0]>p[0]&&(u=t[1],p=t[0]);for(var c=Math.atan((p[1]-u[1])/(p[0]-u[0])),l=0;l<h;l++){var f=2*l*e,d=2*(l+1)*e,v=Math.sqrt(2*Math.pow(e,2)),g=[u[0]+f*Math.cos(c),u[1]+f*Math.sin(c)],y=[u[0]+d*Math.cos(c),u[1]+d*Math.sin(c)],M=[g[0]+v*Math.cos(c+Math.PI/4),g[1]+v*Math.sin(c+Math.PI/4)];o.push.apply(o,n(n([],a.helper.doubleLineOps(g[0],g[1],M[0],M[1],r),!1),a.helper.doubleLineOps(M[0],M[1],y[0],y[1],r),!1))}})),o},t}(),f={};var d=function(){function t(t){this.seed=t}return t.prototype.next=function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()},t}();const v={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function g(t,e){return t.type===e}function y(t){const e=[],r=function(t){const e=new Array;for(;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:0,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:1,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:2,text:""},e}(t);let n="BOD",a=0,s=r[a];for(;!g(s,2);){let o=0;const i=[];if("BOD"===n){if("M"!==s.text&&"m"!==s.text)return y("M0,0"+t);a++,o=v[s.text],n=s.text}else g(s,1)?o=v[n]:(a++,o=v[s.text],n=s.text);if(!(a+o<r.length))throw new Error("Path data ended short");for(let t=a;t<a+o;t++){const e=r[t];if(!g(e,1))throw new Error("Param not a number: "+n+","+e.text);i[i.length]=+e.text}if("number"!=typeof v[n])throw new Error("Bad segment: "+n);{const t={key:n,data:i};e.push(t),a+=o,s=r[a],"M"===n&&(n="L"),"m"===n&&(n="l")}}return e}function M(t){let e=0,r=0,n=0,a=0;const s=[];for(const{key:o,data:i}of t)switch(o){case"M":s.push({key:"M",data:[...i]}),[e,r]=i,[n,a]=i;break;case"m":e+=i[0],r+=i[1],s.push({key:"M",data:[e,r]}),n=e,a=r;break;case"L":s.push({key:"L",data:[...i]}),[e,r]=i;break;case"l":e+=i[0],r+=i[1],s.push({key:"L",data:[e,r]});break;case"C":s.push({key:"C",data:[...i]}),e=i[4],r=i[5];break;case"c":{const t=i.map(((t,n)=>n%2?t+r:t+e));s.push({key:"C",data:t}),e=t[4],r=t[5];break}case"Q":s.push({key:"Q",data:[...i]}),e=i[2],r=i[3];break;case"q":{const t=i.map(((t,n)=>n%2?t+r:t+e));s.push({key:"Q",data:t}),e=t[2],r=t[3];break}case"A":s.push({key:"A",data:[...i]}),e=i[5],r=i[6];break;case"a":e+=i[5],r+=i[6],s.push({key:"A",data:[i[0],i[1],i[2],i[3],i[4],e,r]});break;case"H":s.push({key:"H",data:[...i]}),e=i[0];break;case"h":e+=i[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...i]}),r=i[0];break;case"v":r+=i[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...i]}),e=i[2],r=i[3];break;case"s":{const t=i.map(((t,n)=>n%2?t+r:t+e));s.push({key:"S",data:t}),e=t[2],r=t[3];break}case"T":s.push({key:"T",data:[...i]}),e=i[0],r=i[1];break;case"t":e+=i[0],r+=i[1],s.push({key:"T",data:[e,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=n,r=a}return s}function k(t){const e=[];let r="",n=0,a=0,s=0,o=0,i=0,h=0;for(const{key:u,data:p}of t){switch(u){case"M":e.push({key:"M",data:[...p]}),[n,a]=p,[s,o]=p;break;case"C":e.push({key:"C",data:[...p]}),n=p[4],a=p[5],i=p[2],h=p[3];break;case"L":e.push({key:"L",data:[...p]}),[n,a]=p;break;case"H":n=p[0],e.push({key:"L",data:[n,a]});break;case"V":a=p[0],e.push({key:"L",data:[n,a]});break;case"S":{let t=0,s=0;"C"===r||"S"===r?(t=n+(n-i),s=a+(a-h)):(t=n,s=a),e.push({key:"C",data:[t,s,...p]}),i=p[0],h=p[1],n=p[2],a=p[3];break}case"T":{const[t,s]=p;let o=0,u=0;"Q"===r||"T"===r?(o=n+(n-i),u=a+(a-h)):(o=n,u=a);const c=n+2*(o-n)/3,l=a+2*(u-a)/3,f=t+2*(o-t)/3,d=s+2*(u-s)/3;e.push({key:"C",data:[c,l,f,d,t,s]}),i=o,h=u,n=t,a=s;break}case"Q":{const[t,r,s,o]=p,u=n+2*(t-n)/3,c=a+2*(r-a)/3,l=s+2*(t-s)/3,f=o+2*(r-o)/3;e.push({key:"C",data:[u,c,l,f,s,o]}),i=t,h=r,n=s,a=o;break}case"A":{const t=Math.abs(p[0]),r=Math.abs(p[1]),s=p[2],o=p[3],i=p[4],h=p[5],u=p[6];if(0===t||0===r)e.push({key:"C",data:[n,a,h,u,h,u]}),n=h,a=u;else if(n!==h||a!==u){m(n,a,h,u,t,r,s,o,i).forEach((function(t){e.push({key:"C",data:t})})),n=h,a=u}break}case"Z":e.push({key:"Z",data:[]}),n=s,a=o}r=u}return e}function b(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function m(t,e,r,n,a,s,o,i,h,u){const p=(c=o,Math.PI*c/180);var c;let l=[],f=0,d=0,v=0,g=0;if(u)[f,d,v,g]=u;else{[t,e]=b(t,e,-p),[r,n]=b(r,n,-p);const o=(t-r)/2,u=(e-n)/2;let c=o*o/(a*a)+u*u/(s*s);c>1&&(c=Math.sqrt(c),a*=c,s*=c);const l=a*a,y=s*s,M=l*y-l*u*u-y*o*o,k=l*u*u+y*o*o,m=(i===h?-1:1)*Math.sqrt(Math.abs(M/k));v=m*a*u/s+(t+r)/2,g=m*-s*o/a+(e+n)/2,f=Math.asin(parseFloat(((e-g)/s).toFixed(9))),d=Math.asin(parseFloat(((n-g)/s).toFixed(9))),t<v&&(f=Math.PI-f),r<v&&(d=Math.PI-d),f<0&&(f=2*Math.PI+f),d<0&&(d=2*Math.PI+d),h&&f>d&&(f-=2*Math.PI),!h&&d>f&&(d-=2*Math.PI)}let y=d-f;if(Math.abs(y)>120*Math.PI/180){const t=d,e=r,i=n;d=h&&d>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,l=m(r=v+a*Math.cos(d),n=g+s*Math.sin(d),e,i,a,s,o,0,h,[d,t,v,g])}y=d-f;const M=Math.cos(f),k=Math.sin(f),w=Math.cos(d),P=Math.sin(d),x=Math.tan(y/4),O=4/3*a*x,S=4/3*s*x,L=[t,e],T=[t+O*k,e-S*M],_=[r+O*P,n-S*w],D=[r,n];if(T[0]=2*L[0]-T[0],T[1]=2*L[1]-T[1],u)return[T,_,D].concat(l);{l=[T,_,D].concat(l);const t=[];for(let e=0;e<l.length;e+=3){const r=b(l[e][0],l[e][1],p),n=b(l[e+1][0],l[e+1][1],p),a=b(l[e+2][0],l[e+2][1],p);t.push([r[0],r[1],n[0],n[1],a[0],a[1]])}return t}}var w={randOffset:function(t,e){return z(t,e)},randOffsetWithRange:function(t,e,r){return W(t,e,r)},ellipse:function(t,e,r,n,a){var s=L(r,n,a);return T(t,e,a,s).opset},doubleLineOps:function(t,e,r,n,a){return E(t,e,r,n,a,!0)}};function P(t,e,r,n,a){return{type:"path",ops:E(t,e,r,n,a)}}function x(t,e,r){var n=(t||[]).length;if(n>2){for(var a=[],s=0;s<n-1;s++)a.push.apply(a,E(t[s][0],t[s][1],t[s+1][0],t[s+1][1],r));return e&&a.push.apply(a,E(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:a}}return 2===n?P(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function O(t,e,r,n,a){return function(t,e){return x(t,!0,e)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],a)}function S(t,e){var n=G(t,1*(1+.2*e.roughness),e);if(!e.disableMultiStroke){var a=G(t,1.5*(1+.22*e.roughness),function(t){var e=r({},t);e.randomizer=void 0,t.seed&&(e.seed=t.seed+1);return e}(e));n=n.concat(a)}return{type:"path",ops:n}}function L(t,e,r){var n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),a=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/a,o=Math.abs(t/2),i=Math.abs(e/2),h=1-r.curveFitting;return{increment:s,rx:o+=z(o*h,r),ry:i+=z(i*h,r)}}function T(t,e,r,n){var a=q(n.increment,t,e,n.rx,n.ry,1,n.increment*W(.1,W(.4,1,r),r),r),s=a[0],o=a[1],i=R(s,null,r);if(!r.disableMultiStroke&&0!==r.roughness){var h=R(q(n.increment,t,e,n.rx,n.ry,1.5,0,r)[0],null,r);i=i.concat(h)}return{estimatedPoints:o,opset:{type:"path",ops:i}}}function _(t,e,r,a,s,o,i,h,u){var p=t,c=e,l=Math.abs(r/2),f=Math.abs(a/2);l+=z(.01*l,u),f+=z(.01*f,u);for(var d=s,v=o;d<0;)d+=2*Math.PI,v+=2*Math.PI;v-d>2*Math.PI&&(d=0,v=2*Math.PI);var g=2*Math.PI/u.curveStepCount,y=Math.min(g/2,(v-d)/2),M=F(y,p,c,l,f,d,v,1,u);if(!u.disableMultiStroke){var k=F(y,p,c,l,f,d,v,1.5,u);M.push.apply(M,k)}return i&&(h?M.push.apply(M,n(n([],E(p,c,p+l*Math.cos(d),c+f*Math.sin(d),u),!1),E(p,c,p+l*Math.cos(v),c+f*Math.sin(v),u),!1)):M.push({op:"lineTo",data:[p,c]},{op:"lineTo",data:[p+l*Math.cos(d),c+f*Math.sin(d)]})),{type:"path",ops:M}}function D(t,e){for(var r=k(M(y(t))),n=[],a=[0,0],s=[0,0],o=function(t,r){switch(t){case"M":var o=1*(e.maxRandomnessOffset||0),i=e.preserveVertices;n.push({op:"move",data:r.map((function(t){return t+(i?0:z(o,e))}))}),s=[r[0],r[1]],a=[r[0],r[1]];break;case"L":n.push.apply(n,E(s[0],s[1],r[0],r[1],e)),s=[r[0],r[1]];break;case"C":var h=r[0],u=r[1],p=r[2],c=r[3],l=r[4],f=r[5];n.push.apply(n,function(t,e,r,n,a,s,o,i){for(var h=[],u=[i.maxRandomnessOffset||1,(i.maxRandomnessOffset||1)+.3],p=[0,0],c=i.disableMultiStroke?1:2,l=i.preserveVertices,f=0;f<c;f++)0===f?h.push({op:"move",data:[o[0],o[1]]}):h.push({op:"move",data:[o[0]+(l?0:z(u[0],i)),o[1]+(l?0:z(u[0],i))]}),p=l?[a,s]:[a+z(u[f],i),s+z(u[f],i)],h.push({op:"bcurveTo",data:[t+z(u[f],i),e+z(u[f],i),r+z(u[f],i),n+z(u[f],i),p[0],p[1]]});return h}(h,u,p,c,l,f,s,e)),s=[l,f];break;case"Z":n.push.apply(n,E(s[0],s[1],a[0],a[1],e)),s=[a[0],a[1]]}},i=0,h=r;i<h.length;i++){var u=h[i];o(u.key,u.data)}return{type:"path",ops:n}}function A(t,e){for(var r=[],n=0,a=t;n<a.length;n++){var s=a[n];if(s.length){var o=e.maxRandomnessOffset||0,i=s.length;if(i>2){r.push({op:"move",data:[s[0][0]+z(o,e),s[0][1]+z(o,e)]});for(var h=1;h<i;h++)r.push({op:"lineTo",data:[s[h][0]+z(o,e),s[h][1]+z(o,e)]})}}}return{type:"fillPath",ops:r}}function I(t,e){return function(t,e){var r=t.fillStyle||"hachure";if(!f[r])switch(r){case"zigzag":f[r]||(f[r]=new h(e));break;case"cross-hatch":f[r]||(f[r]=new u(e));break;case"dots":f[r]||(f[r]=new p(e));break;case"dashed":f[r]||(f[r]=new c(e));break;case"zigzag-line":f[r]||(f[r]=new l(e));break;case"hachure":default:f[r="hachure"]||(f[r]=new i(e))}return f[r]}(e,w).fillPolygons(t,e)}function C(t){return t.randomizer||(t.randomizer=new d(t.seed||0)),t.randomizer.next()}function W(t,e,r,n){return void 0===n&&(n=1),r.roughness*n*(C(r)*(e-t)+t)}function z(t,e,r){return void 0===r&&(r=1),W(-t,t,e,r)}function E(t,e,r,n,a,s){void 0===s&&(s=!1);var o=s?a.disableMultiStrokeFill:a.disableMultiStroke,i=j(t,e,r,n,a,!0,!1);if(o)return i;var h=j(t,e,r,n,a,!0,!0);return i.concat(h)}function j(t,e,r,n,a,s,o){var i=Math.pow(t-r,2)+Math.pow(e-n,2),h=Math.sqrt(i),u=1;u=h<200?1:h>500?.4:-.0016668*h+1.233334;var p=a.maxRandomnessOffset||0;p*p*100>i&&(p=h/10);var c=p/2,l=.2+.2*C(a),f=a.bowing*a.maxRandomnessOffset*(n-e)/200,d=a.bowing*a.maxRandomnessOffset*(t-r)/200;f=z(f,a,u),d=z(d,a,u);var v=[],g=function(){return z(c,a,u)},y=function(){return z(p,a,u)},M=a.preserveVertices;return s&&(o?v.push({op:"move",data:[t+(M?0:g()),e+(M?0:g())]}):v.push({op:"move",data:[t+(M?0:z(p,a,u)),e+(M?0:z(p,a,u))]})),o?v.push({op:"bcurveTo",data:[f+t+(r-t)*l+g(),d+e+(n-e)*l+g(),f+t+2*(r-t)*l+g(),d+e+2*(n-e)*l+g(),r+(M?0:g()),n+(M?0:g())]}):v.push({op:"bcurveTo",data:[f+t+(r-t)*l+y(),d+e+(n-e)*l+y(),f+t+2*(r-t)*l+y(),d+e+2*(n-e)*l+y(),r+(M?0:y()),n+(M?0:y())]}),v}function G(t,e,r){var n=[];n.push([t[0][0]+z(e,r),t[0][1]+z(e,r)]),n.push([t[0][0]+z(e,r),t[0][1]+z(e,r)]);for(var a=1;a<t.length;a++)n.push([t[a][0]+z(e,r),t[a][1]+z(e,r)]),a===t.length-1&&n.push([t[a][0]+z(e,r),t[a][1]+z(e,r)]);return R(n,null,r)}function R(t,e,r){var n=t.length,a=[];if(n>3){var s=[],o=1-r.curveTightness;a.push({op:"move",data:[t[1][0],t[1][1]]});for(var i=1;i+2<n;i++){var h=t[i];s[0]=[h[0],h[1]],s[1]=[h[0]+(o*t[i+1][0]-o*t[i-1][0])/6,h[1]+(o*t[i+1][1]-o*t[i-1][1])/6],s[2]=[t[i+1][0]+(o*t[i][0]-o*t[i+2][0])/6,t[i+1][1]+(o*t[i][1]-o*t[i+2][1])/6],s[3]=[t[i+1][0],t[i+1][1]],a.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}if(e&&2===e.length){var u=r.maxRandomnessOffset;a.push({op:"lineTo",data:[e[0]+z(u,r),e[1]+z(u,r)]})}}else 3===n?(a.push({op:"move",data:[t[1][0],t[1][1]]}),a.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===n&&a.push.apply(a,E(t[0][0],t[0][1],t[1][0],t[1][1],r));return a}function q(t,e,r,n,a,s,o,i){var h=[],u=[];if(0===i.roughness){t/=4,u.push([e+n*Math.cos(-t),r+a*Math.sin(-t)]);for(var p=0;p<=2*Math.PI;p+=t){var c=[e+n*Math.cos(p),r+a*Math.sin(p)];h.push(c),u.push(c)}u.push([e+n*Math.cos(0),r+a*Math.sin(0)]),u.push([e+n*Math.cos(t),r+a*Math.sin(t)])}else{var l=z(.5,i)-Math.PI/2;u.push([z(s,i)+e+.9*n*Math.cos(l-t),z(s,i)+r+.9*a*Math.sin(l-t)]);var f=2*Math.PI+l-.01;for(p=l;p<f;p+=t){c=[z(s,i)+e+n*Math.cos(p),z(s,i)+r+a*Math.sin(p)];h.push(c),u.push(c)}u.push([z(s,i)+e+n*Math.cos(l+2*Math.PI+.5*o),z(s,i)+r+a*Math.sin(l+2*Math.PI+.5*o)]),u.push([z(s,i)+e+.98*n*Math.cos(l+o),z(s,i)+r+.98*a*Math.sin(l+o)]),u.push([z(s,i)+e+.9*n*Math.cos(l+.5*o),z(s,i)+r+.9*a*Math.sin(l+.5*o)])}return[u,h]}function F(t,e,r,n,a,s,o,i,h){var u=s+z(.1,h),p=[];p.push([z(i,h)+e+.9*n*Math.cos(u-t),z(i,h)+r+.9*a*Math.sin(u-t)]);for(var c=u;c<=o;c+=t)p.push([z(i,h)+e+n*Math.cos(c),z(i,h)+r+a*Math.sin(c)]);return p.push([e+n*Math.cos(o),r+a*Math.sin(o)]),p.push([e+n*Math.cos(o),r+a*Math.sin(o)]),R(p,null,h)}function V(t){return[...t]}function Z(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Q(t,e,r){const n=Z(e,r);if(0===n)return Z(t,e);let a=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return a=Math.max(0,Math.min(1,a)),Z(t,H(e,r,a))}function H(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function $(t,e,r,n){const a=n||[];if(function(t,e){const r=t[e+0],n=t[e+1],a=t[e+2],s=t[e+3];let o=3*n[0]-2*r[0]-s[0];o*=o;let i=3*n[1]-2*r[1]-s[1];i*=i;let h=3*a[0]-2*s[0]-r[0];h*=h;let u=3*a[1]-2*s[1]-r[1];return u*=u,o<h&&(o=h),i<u&&(i=u),o+i}(t,e)<r){const r=t[e+0];if(a.length){(s=a[a.length-1],o=r,Math.sqrt(Z(s,o)))>1&&a.push(r)}else a.push(r);a.push(t[e+3])}else{const n=.5,s=t[e+0],o=t[e+1],i=t[e+2],h=t[e+3],u=H(s,o,n),p=H(o,i,n),c=H(i,h,n),l=H(u,p,n),f=H(p,c,n),d=H(l,f,n);$([s,u,l,d],0,r,a),$([d,f,c,h],0,r,a)}var s,o;return a}function N(t,e){return B(t,0,t.length,e)}function B(t,e,r,n,a){const s=a||[],o=t[e],i=t[r-1];let h=0,u=1;for(let n=e+1;n<r-1;++n){const e=Q(t[n],o,i);e>h&&(h=e,u=n)}return Math.sqrt(h)>n?(B(t,e,u+1,n,s),B(t,u,r,n,s)):(s.length||s.push(o),s.push(i)),s}function J(t,e=.15,r){const n=[],a=(t.length-1)/3;for(let r=0;r<a;r++){$(t,3*r,e,n)}return r&&r>0?B(n,0,n.length,r):n}var K="none",U=function(){function t(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}return t.newSeed=function(){return Math.floor(Math.random()*Math.pow(2,31))},t.prototype._o=function(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions},t.prototype._d=function(t,e,r){return{shape:t,sets:e||[],options:r||this.defaultOptions}},t.prototype.line=function(t,e,r,n,a){var s=this._o(a);return this._d("line",[P(t,e,r,n,s)],s)},t.prototype.rectangle=function(t,e,r,n,a){var s=this._o(a),o=[],i=O(t,e,r,n,s);if(s.fill){var h=[[t,e],[t+r,e],[t+r,e+n],[t,e+n]];"solid"===s.fillStyle?o.push(A([h],s)):o.push(I([h],s))}return s.stroke!==K&&o.push(i),this._d("rectangle",o,s)},t.prototype.ellipse=function(t,e,r,n,a){var s=this._o(a),o=[],i=L(r,n,s),h=T(t,e,s,i);if(s.fill)if("solid"===s.fillStyle){var u=T(t,e,s,i).opset;u.type="fillPath",o.push(u)}else o.push(I([h.estimatedPoints],s));return s.stroke!==K&&o.push(h.opset),this._d("ellipse",o,s)},t.prototype.circle=function(t,e,r,n){var a=this.ellipse(t,e,r,r,n);return a.shape="circle",a},t.prototype.linearPath=function(t,e){var r=this._o(e);return this._d("linearPath",[x(t,!1,r)],r)},t.prototype.arc=function(t,e,n,a,s,o,i,h){void 0===i&&(i=!1);var u=this._o(h),p=[],c=_(t,e,n,a,s,o,i,!0,u);if(i&&u.fill)if("solid"===u.fillStyle){var l=r({},u);l.disableMultiStroke=!0;var f=_(t,e,n,a,s,o,!0,!1,l);f.type="fillPath",p.push(f)}else p.push(function(t,e,r,n,a,s,o){var i=t,h=e,u=Math.abs(r/2),p=Math.abs(n/2);u+=z(.01*u,o),p+=z(.01*p,o);for(var c=a,l=s;c<0;)c+=2*Math.PI,l+=2*Math.PI;l-c>2*Math.PI&&(c=0,l=2*Math.PI);for(var f=(l-c)/o.curveStepCount,d=[],v=c;v<=l;v+=f)d.push([i+u*Math.cos(v),h+p*Math.sin(v)]);return d.push([i+u*Math.cos(l),h+p*Math.sin(l)]),d.push([i,h]),I([d],o)}(t,e,n,a,s,o,u));return u.stroke!==K&&p.push(c),this._d("arc",p,u)},t.prototype.curve=function(t,e){var r=this._o(e),n=[],a=S(t,r);if(r.fill&&r.fill!==K&&t.length>=3){var s=J(function(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(3===r)n.push(V(t[0]),V(t[1]),V(t[2]),V(t[2]));else{const r=[];r.push(t[0],t[0]);for(let e=1;e<t.length;e++)r.push(t[e]),e===t.length-1&&r.push(t[e]);const a=[],s=1-e;n.push(V(r[0]));for(let t=1;t+2<r.length;t++){const e=r[t];a[0]=[e[0],e[1]],a[1]=[e[0]+(s*r[t+1][0]-s*r[t-1][0])/6,e[1]+(s*r[t+1][1]-s*r[t-1][1])/6],a[2]=[r[t+1][0]+(s*r[t][0]-s*r[t+2][0])/6,r[t+1][1]+(s*r[t][1]-s*r[t+2][1])/6],a[3]=[r[t+1][0],r[t+1][1]],n.push(a[1],a[2],a[3])}}return n}(t),10,(1+r.roughness)/2);"solid"===r.fillStyle?n.push(A([s],r)):n.push(I([s],r))}return r.stroke!==K&&n.push(a),this._d("curve",n,r)},t.prototype.polygon=function(t,e){var r=this._o(e),n=[],a=x(t,!0,r);return r.fill&&("solid"===r.fillStyle?n.push(A([t],r)):n.push(I([t],r))),r.stroke!==K&&n.push(a),this._d("polygon",n,r)},t.prototype.path=function(t,e){var r=this._o(e),n=[];if(!t)return this._d("path",n,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var a=r.fill&&"transparent"!==r.fill&&r.fill!==K,s=r.stroke!==K,o=!!(r.simplification&&r.simplification<1),i=function(t,e,r){const n=k(M(y(t))),a=[];let s=[],o=[0,0],i=[];const h=()=>{i.length>=4&&s.push(...J(i,e)),i=[]},u=()=>{h(),s.length&&(a.push(s),s=[])};for(const{key:t,data:e}of n)switch(t){case"M":u(),o=[e[0],e[1]],s.push(o);break;case"L":h(),s.push([e[0],e[1]]);break;case"C":if(!i.length){const t=s.length?s[s.length-1]:o;i.push([t[0],t[1]])}i.push([e[0],e[1]]),i.push([e[2],e[3]]),i.push([e[4],e[5]]);break;case"Z":h(),s.push([o[0],o[1]])}if(u(),!r)return a;const p=[];for(const t of a){const e=N(t,r);e.length&&p.push(e)}return p}(t,1,o?4-4*r.simplification:(1+r.roughness)/2);return a&&("solid"===r.fillStyle?n.push(A(i,r)):n.push(I(i,r))),s&&(o?i.forEach((function(t){n.push(x(t,!1,r))})):n.push(D(t,r))),this._d("path",n,r)},t.prototype.opsToPath=function(t,e){for(var r="",n=0,a=t.ops;n<a.length;n++){var s=a[n],o="number"==typeof e&&e>=0?s.data.map((function(t){return+t.toFixed(e)})):s.data;switch(s.op){case"move":r+="M".concat(o[0]," ").concat(o[1]," ");break;case"bcurveTo":r+="C".concat(o[0]," ").concat(o[1],", ").concat(o[2]," ").concat(o[3],", ").concat(o[4]," ").concat(o[5]," ");break;case"lineTo":r+="L".concat(o[0]," ").concat(o[1]," ")}}return r.trim()},t.prototype.toPaths=function(t){for(var e=t.sets||[],r=t.options||this.defaultOptions,n=[],a=0,s=e;a<s.length;a++){var o=s[a],i=null;switch(o.type){case"path":i={d:this.opsToPath(o),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:K};break;case"fillPath":i={d:this.opsToPath(o),stroke:K,strokeWidth:0,fill:r.fill||K};break;case"fillSketch":i=this.fillSketch(o,r)}i&&n.push(i)}return n},t.prototype.fillSketch=function(t,e){var r=e.fillWeight;return r<0&&(r=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||K,strokeWidth:r,fill:K}},t}(),X=function(){function t(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new U(e)}return t.prototype.draw=function(t){for(var e=t.sets||[],r=t.options||this.getDefaultOptions(),n=this.ctx,a=t.options.fixedDecimalPlaceDigits,s=0,o=e;s<o.length;s++){var i=o[s];switch(i.type){case"path":n.save(),n.strokeStyle="none"===r.stroke?"transparent":r.stroke,n.lineWidth=r.strokeWidth,r.strokeLineDash&&n.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(n.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(n,i,a),n.restore();break;case"fillPath":n.save(),n.fillStyle=r.fill||"";var h="curve"===t.shape||"polygon"===t.shape||"path"===t.shape?"evenodd":"nonzero";this._drawToContext(n,i,a,h),n.restore();break;case"fillSketch":this.fillSketch(n,i,r)}}},t.prototype.fillSketch=function(t,e,r){var n=r.fillWeight;n<0&&(n=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=n,this._drawToContext(t,e,r.fixedDecimalPlaceDigits),t.restore()},t.prototype._drawToContext=function(t,e,r,n){void 0===n&&(n="nonzero"),t.beginPath();for(var a=0,s=e.ops;a<s.length;a++){var o=s[a],i="number"==typeof r&&r>=0?o.data.map((function(t){return+t.toFixed(r)})):o.data;switch(o.op){case"move":t.moveTo(i[0],i[1]);break;case"bcurveTo":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"lineTo":t.lineTo(i[0],i[1])}}"fillPath"===e.type?t.fill(n):t.stroke()},Object.defineProperty(t.prototype,"generator",{get:function(){return this.gen},enumerable:!1,configurable:!0}),t.prototype.getDefaultOptions=function(){return this.gen.defaultOptions},t.prototype.line=function(t,e,r,n,a){var s=this.gen.line(t,e,r,n,a);return this.draw(s),s},t.prototype.rectangle=function(t,e,r,n,a){var s=this.gen.rectangle(t,e,r,n,a);return this.draw(s),s},t.prototype.ellipse=function(t,e,r,n,a){var s=this.gen.ellipse(t,e,r,n,a);return this.draw(s),s},t.prototype.circle=function(t,e,r,n){var a=this.gen.circle(t,e,r,n);return this.draw(a),a},t.prototype.linearPath=function(t,e){var r=this.gen.linearPath(t,e);return this.draw(r),r},t.prototype.polygon=function(t,e){var r=this.gen.polygon(t,e);return this.draw(r),r},t.prototype.arc=function(t,e,r,n,a,s,o,i){void 0===o&&(o=!1);var h=this.gen.arc(t,e,r,n,a,s,o,i);return this.draw(h),h},t.prototype.curve=function(t,e){var r=this.gen.curve(t,e);return this.draw(r),r},t.prototype.path=function(t,e){var r=this.gen.path(t,e);return this.draw(r),r},t}(),Y="http://www.w3.org/2000/svg",tt=function(){function t(t,e){this.svg=t,this.gen=new U(e)}return t.prototype.draw=function(t){for(var e=t.sets||[],r=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,a=n.createElementNS(Y,"g"),s=t.options.fixedDecimalPlaceDigits,o=0,i=e;o<i.length;o++){var h=i[o],u=null;switch(h.type){case"path":(u=n.createElementNS(Y,"path")).setAttribute("d",this.opsToPath(h,s)),u.setAttribute("stroke",r.stroke),u.setAttribute("stroke-width",r.strokeWidth+""),u.setAttribute("fill","none"),r.strokeLineDash&&u.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset","".concat(r.strokeLineDashOffset));break;case"fillPath":(u=n.createElementNS(Y,"path")).setAttribute("d",this.opsToPath(h,s)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",r.fill||""),"curve"!==t.shape&&"polygon"!==t.shape||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(n,h,r)}u&&a.appendChild(u)}return a},t.prototype.fillSketch=function(t,e,r){var n=r.fillWeight;n<0&&(n=r.strokeWidth/2);var a=t.createElementNS(Y,"path");return a.setAttribute("d",this.opsToPath(e,r.fixedDecimalPlaceDigits)),a.setAttribute("stroke",r.fill||""),a.setAttribute("stroke-width",n+""),a.setAttribute("fill","none"),r.fillLineDash&&a.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&a.setAttribute("stroke-dashoffset","".concat(r.fillLineDashOffset)),a},Object.defineProperty(t.prototype,"generator",{get:function(){return this.gen},enumerable:!1,configurable:!0}),t.prototype.getDefaultOptions=function(){return this.gen.defaultOptions},t.prototype.opsToPath=function(t,e){return this.gen.opsToPath(t,e)},t.prototype.line=function(t,e,r,n,a){var s=this.gen.line(t,e,r,n,a);return this.draw(s)},t.prototype.rectangle=function(t,e,r,n,a){var s=this.gen.rectangle(t,e,r,n,a);return this.draw(s)},t.prototype.ellipse=function(t,e,r,n,a){var s=this.gen.ellipse(t,e,r,n,a);return this.draw(s)},t.prototype.circle=function(t,e,r,n){var a=this.gen.circle(t,e,r,n);return this.draw(a)},t.prototype.linearPath=function(t,e){var r=this.gen.linearPath(t,e);return this.draw(r)},t.prototype.polygon=function(t,e){var r=this.gen.polygon(t,e);return this.draw(r)},t.prototype.arc=function(t,e,r,n,a,s,o,i){void 0===o&&(o=!1);var h=this.gen.arc(t,e,r,n,a,s,o,i);return this.draw(h)},t.prototype.curve=function(t,e){var r=this.gen.curve(t,e);return this.draw(r)},t.prototype.path=function(t,e){var r=this.gen.path(t,e);return this.draw(r)},t}(),et={canvas:function(t,e){return new X(t,e)},svg:function(t,e){return new tt(t,e)},generator:function(t){return new U(t)},newSeed:function(){return U.newSeed()}};module.exports=et;
